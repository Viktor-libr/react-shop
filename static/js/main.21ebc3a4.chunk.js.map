{"version":3,"sources":["components/Footer.jsx","components/Header.jsx","config.js","reducer.js","context.js","components/Alert.jsx","components/BusketItem.jsx","components/BusketList.jsx","components/GoodItem.jsx","components/GoodsList.jsx","components/Preloader.jsx","components/ShopCart.jsx","components/Shop.jsx","App.js","index.js"],"names":["Footer","className","Date","getFullYear","href","target","Header","id","reducer","state","type","payload","goods","loading","alertName","visibleBusket","order","filter","e","newQuantity","plusOrMinus","map","quantity","findOrderIndex","findIndex","newOrder","newItem","index","name","ContextShop","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","handleVisibleBusket","deleteOrder","handleOrder","clientOrder","handleQuantity","setGoods","data","Provider","Alert","props","useContext","useEffect","alertTimeOut","setTimeout","clearTimeout","BusketItem","prise","onClick","BusketList","summaryPrise","reduce","sum","el","length","GoodItem","mainId","displayName","displayDescription","full_background","displayAssets","regularPrice","price","src","alt","style","fontSize","fontWeight","GoodsList","Preloader","ShopCart","Shop","fetch","headers","Authorization","process","then","response","json","shop","catch","err","console","error","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.21ebc3a4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <div className=\"footer-info\">\r\n                <span className='footer-copy'>© {new Date().getFullYear()} Copy text</span>\r\n                <a className=\"footer-href\" href=\"https://github.com/Viktor-libr/react-shop\" target='_blanc'>repo</a>\r\n            </div>\r\n        </footer>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport function Header () {\r\n    return (\r\n        <nav className='brown'>\r\n            <div className=\"nav-wrapper\">\r\n                <a href=\"/\" className=\"brand-logo\">Shop App</a>\r\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                    <li><a href=\"https://github.com/Viktor-libr/react-shop\" target='_blanc'>Repo</a></li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n}","const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\r\n\r\nexport {API_KEY, API_URL};","\r\n\r\nexport const reducer = (state, { type, payload }) => {\r\n    switch (type) {\r\n        case 'SET_GOODS':\r\n            return {\r\n                ...state,\r\n                goods: payload || [],\r\n                loading: false,\r\n            };\r\n        case 'CLOSE_ALERT':\r\n            return {\r\n                ...state,\r\n                alertName: ''\r\n            };\r\n        case 'HANDELE_VISIBLE_BUSKET':\r\n            return {\r\n                ...state,\r\n                visibleBusket: !state.visibleBusket\r\n            };\r\n        case 'DELETE_ORDER':\r\n            return {\r\n                ...state,\r\n                order: state.order.filter((e) => e.id !== payload),\r\n            };\r\n        case 'HANDLE_QUANTITY':\r\n            let newQuantity = null;\r\n            if (payload.plusOrMinus === 'plus') {\r\n                newQuantity = state.order.map((e) => {\r\n                    if (payload.id === e.id) {\r\n                        return {\r\n                            ...e,\r\n                            quantity: e.quantity + 1\r\n                        }\r\n                    } else {\r\n                        return e;\r\n                    }\r\n                });\r\n            } else if (payload.plusOrMinus === 'minus') {\r\n                newQuantity = state.order.map((e) => {\r\n                    if (e.id === payload.id) {\r\n                        return {\r\n                            ...e,\r\n                            quantity: e.quantity > 0 ? e.quantity - 1 : 0\r\n                        }\r\n                    } else {\r\n                        return e;\r\n                    }\r\n                })\r\n            };\r\n            return {\r\n                ...state,\r\n                order: newQuantity\r\n            };\r\n        case 'HANDLE_ORDER':\r\n            const findOrderIndex = state.order.findIndex((e) => e.id === payload.id);\r\n            let newOrder = null;\r\n            if (findOrderIndex < 0) {\r\n                const newItem = {\r\n                    ...payload,\r\n                    quantity: 1,\r\n                };\r\n                newOrder = [...state.order, newItem]\r\n            } else {\r\n                newOrder = state.order.map((e, index) => {\r\n                    if (index === findOrderIndex) {\r\n                        return {\r\n                            ...e,\r\n                            quantity: e.quantity + 1,\r\n                        };\r\n                    } else {\r\n                        return e;\r\n                    }\r\n                })\r\n            }\r\n            return {\r\n                ...state,\r\n                order: newOrder,\r\n                alertName: payload.name\r\n            };\r\n        default: return state;\r\n    }\r\n}","import { createContext, useReducer } from \"react\";\r\nimport {reducer} from './reducer'\r\n\r\nexport const ContextShop = createContext();\r\n\r\nconst initialState = {\r\n        goods: [],\r\n        loading: false,\r\n        order: [],\r\n        visibleBusket: false,\r\n        alertName: '',\r\n    }\r\n\r\nexport const ContextProvider = ({children}) => { \r\n\r\n    const [value, dispatch] = useReducer(reducer, initialState);\r\n    \r\n    value.closeAlert = () => {\r\n        dispatch({type:'CLOSE_ALERT'})\r\n    };\r\n    value.handleVisibleBusket = () => {\r\n        dispatch({type: 'HANDELE_VISIBLE_BUSKET'})\r\n    };\r\n    value.deleteOrder = (id) => {\r\n        dispatch({type: 'DELETE_ORDER', payload: id})\r\n    };\r\n    value.handleOrder = (clientOrder) => {\r\n        dispatch({type: 'HANDLE_ORDER', payload: clientOrder})\r\n    };\r\n    value.handleQuantity = (id, plusOrMinus) => {\r\n        dispatch({type: 'HANDLE_QUANTITY', payload: {id, plusOrMinus}})\r\n    };\r\n    value.setGoods = (data) => {\r\n        dispatch({type: 'SET_GOODS', payload: data})\r\n    };\r\n\r\n    return (\r\n        <ContextShop.Provider value = {value}>\r\n            {children}\r\n        </ContextShop.Provider>\r\n    )\r\n}","import { useContext, useEffect } from \"react\";\r\nimport { ContextShop } from \"../context\";\r\n\r\n\r\nfunction Alert (props) {\r\n    const {alertName, closeAlert} = useContext(ContextShop);\r\n    useEffect(() => {\r\n        const alertTimeOut = setTimeout(closeAlert ,3000)\r\n\r\n        return () => {\r\n            clearTimeout(alertTimeOut)\r\n        };\r\n        //eslint-disable-next-line\r\n    }, [alertName])\r\n\r\n    return (\r\n        <div id=\"toast-container\">\r\n            <div className=\"toast\">\r\n                {alertName} добавлено в корзину!\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport {Alert}","import {useContext} from 'react';\r\nimport {ContextShop} from '../context';\r\n\r\nfunction BusketItem(props) {\r\n    const { name,\r\n            quantity,\r\n            prise,\r\n            id } = props;\r\n            \r\n            const {deleteOrder, handleQuantity} = useContext(ContextShop)\r\n            \r\n    return (\r\n        <li className=\"collection-item item-collection\">\r\n            {name}:\r\n                <i className=\"material-icons close-busket\" onClick={() => handleQuantity(id, \"minus\")}>\r\n                remove</i>\r\n                <i className=\"collection-arrow\">{quantity}</i> <i className=\"material-icons close-busket\" onClick={() => handleQuantity(id, \"plus\")}>\r\n                add</i>\r\n            : {prise * quantity}\r\n            <span className=\"secondary-content close-busket delete-busket-item\">\r\n                <i className=\"material-icons close-busket close-busket-item\" onClick={() => deleteOrder(id)}>\r\n                    delete_forever</i>\r\n            </span>\r\n        </li>\r\n    )\r\n};\r\n\r\nexport { BusketItem };","import React, { useContext } from 'react';\r\nimport { ContextShop } from '../context';\r\nimport { BusketItem } from './BusketItem';\r\n\r\nfunction BusketList() {\r\n    const { order, handleVisibleBusket} = useContext(ContextShop);\r\n    const summaryPrise = order.reduce((sum, el) => {\r\n        return sum + el.prise * el.quantity;\r\n    }, 0);\r\n\r\n    return (\r\n        <ul className=\"collection busket-list\">\r\n            <li className=\"collection-item active\">Корзина\r\n                <span className=\"secondary-content close-busket\" onClick={handleVisibleBusket}>\r\n                    <i className=\"material-icons\">clear</i>\r\n                </span>\r\n            </li>\r\n\r\n            {order.length ? order.map((e) => (\r\n                <BusketItem key={e.id} {...e} />)\r\n            ) :\r\n                <li className=\"collection-item\">Корзина пуста</li>}\r\n\r\n            <li className=\"collection summary-prise\">Сума: <span className='sum-prise-total'>{summaryPrise}</span></li>\r\n        </ul>\r\n    )\r\n};\r\n\r\nexport { BusketList };","import React, { useContext } from 'react';\r\nimport { ContextShop } from '../context';\r\n\r\nexport function GoodItem(props) {\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        displayDescription,\r\n        displayAssets:[{full_background}],\r\n        price:{regularPrice},\r\n    } = props;\r\n\r\n    const {handleOrder} = useContext(ContextShop);\r\n\r\n\r\n    return (\r\n        <div className=\"card\" id={mainId}>\r\n        <div className={\"card-image\"}>\r\n          <img src={full_background} alt={displayName} />\r\n        </div>\r\n        <div className=\"card-content\">\r\n          <span className=\"card-title\">{displayName}</span>\r\n          <p>{displayDescription}</p>\r\n        </div>\r\n        <div className=\"card-action-my\">\r\n          <button className=\"btn\" onClick={() => handleOrder({prise:regularPrice, name:displayName, id:mainId})}>Купить</button>\r\n          <span className=\"right\" style={{fontSize: '14px', fontWeight: 'bold'}}>{regularPrice} у.е.</span>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { ContextShop } from '../context';\r\nimport { GoodItem } from './GoodItem';\r\n\r\nexport function GoodsList() {\r\n    const { goods } = useContext(ContextShop);\r\n\r\n    if(!goods.length) {\r\n        return <h3>Ждемссс /(·)(·)\\</h3>\r\n    }\r\n    return (\r\n        <div className='stores'>\r\n            {goods.map((e) => <GoodItem key={e.mainId} {...e}/>)}\r\n        </div>\r\n    )\r\n};","import React from 'react';\r\n\r\nfunction Preloader() {\r\n    return <div className=\"progress\">\r\n        <div className=\"indeterminate\"></div>\r\n    </div>\r\n}\r\n\r\nexport { Preloader }","import React, { useContext } from 'react';\r\nimport { ContextShop } from '../context';\r\n\r\nfunction ShopCart (props) {\r\n    const {order, handleVisibleBusket } = useContext(ContextShop);\r\n    const quantity = order.length;\r\n\r\n    return(\r\n        <div className='cart green lighten-4' onClick={handleVisibleBusket}>\r\n            <i className='material-icons'>add_shopping_cart</i>\r\n            {quantity ? <span className='cart-quantity'>{quantity}</span> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport {ShopCart};","import React, { useContext, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\nimport { ContextShop } from '../context';\r\nimport { Alert } from './Alert';\r\nimport { BusketList } from './BusketList';\r\nimport { GoodsList } from './GoodsList';\r\nimport { Preloader } from './Preloader';\r\nimport { ShopCart } from './ShopCart';\r\n\r\nexport function Shop() {\r\n    const { setGoods, loading, visibleBusket, alertName} = useContext(ContextShop)\r\n\r\n\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                Authorization: API_KEY,\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then((data) => {\r\n                setGoods(data.shop);\r\n            })\r\n            .catch((err) => console.error(err))\r\n            //eslint-disable-next-line\r\n    }, []);\r\n\r\n    return (\r\n        <div className='container content'>\r\n            <ShopCart />\r\n\r\n            {loading ? <Preloader /> : <GoodsList />}\r\n\r\n            {visibleBusket ? <BusketList /> : null}\r\n            {alertName && <Alert />}\r\n        </div>\r\n    )\r\n}","import React from 'react';\nimport { Footer } from './components/Footer';\nimport { Header } from './components/Header';\nimport { Shop } from './components/Shop';\nimport { ContextProvider } from './context';\n\nfunction App() {\n\n    return (\n        <>\n            <Header />\n            <ContextProvider>\n                <Shop />\n            </ContextProvider>\n            <Footer />\n        </>\n    )\n};\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}